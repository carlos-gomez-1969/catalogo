<script>
async function cargarCatalogo() {
  const contenedor = document.getElementById('catalogo');
  contenedor.innerHTML = '<p style="color:#999;">Cargando productos...</p>';
  try {
    const response = await fetch('catalogo.json', { cache: "no-store" });
    if (!response.ok) throw new Error("No se pudo cargar el archivo catalogo.json");

    const data = await response.json();

    contenedor.innerHTML = ''; // limpia el texto anterior

    if (data.length === 0) {
      contenedor.innerHTML = '<p style="color:#b22222;">No hay productos cargados.</p>';
      return;
    }

    data.forEach(item => {
      const producto = document.createElement('div');
      producto.className = 'card';
      producto.innerHTML = `
        <img src="${item.Imagen}" alt="${item.Producto}">
        <div class="info">
          <div class="nombre">${item.Producto}</div>
          <div class="precio">${item.Precio}</div>
        </div>
      `;
      contenedor.appendChild(producto);
    });
  } catch (error) {
    console.error("Error cargando catálogo:", error);
    contenedor.innerHTML = '<p style="color:#b22222;">⚠️ Error: no se pudo cargar el catálogo.</p>';
  }
}

cargarCatalogo();
</script>
